{"mappings":"YAAA,IAAMA,EAAU,wEACVC,EAAW,gCCAjBC,SAASC,iBAAiB,oBAAoB,WAG9C,IAAMC,EAAgBF,SAASG,cAAc,iBACvCC,EAAWJ,SAASG,cAAc,WAClCE,EAAUL,SAASG,cAAc,UACjCG,EAAUN,SAASG,cAAc,aAyCrC,SAASI,IACTH,EAASI,MAAMC,QAAU,QACzBJ,EAAQG,MAAMC,QAAU,OACxBH,EAAQE,MAAMC,QAAU,O,CAG1B,SAASC,IACPN,EAASI,MAAMC,QAAU,M,CAG3B,SAASE,IACPP,EAASI,MAAMC,QAAU,OACzBJ,EAAQG,MAAMC,QAAU,QACxBJ,EAAQG,MAAMI,MAAQ,K,CAnDxBL,IDNSM,MAAM,GAA6BC,OAA1Bf,EAAS,mBAAyBe,OAARhB,IACzCiB,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,ICKjBL,MAAK,SAACM,GACLA,EAAKC,SAAQ,SAACC,GACZ,IAAMC,EAASxB,SAASyB,cAAc,UACtCD,EAAOE,MAAQH,EAAMI,GACrBH,EAAOI,YAAcL,EAAMM,KAC3B3B,EAAc4B,YAAYN,E,IAG5Bd,G,IAGDqB,OAAM,SAACC,GACNrB,G,IAGJT,EAAcD,iBAAiB,UAAU,WACvC,IDjB8BgC,ECiBxBC,EAAkBhC,EAAcwB,MAmCtCpB,EAAQ6B,UAAY,GACpB9B,EAAQG,MAAMC,QAAU,OACxBF,IACAD,EAAQE,MAAMC,QAAU,OAnCxBF,KDpB8B0B,ECuBdC,EDtBTrB,MAAM,GAAsCC,OAAnCf,EAAS,4BAA6Ce,OAAnBmB,EAAQ,aAAmBnB,OAARhB,IACrEiB,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBL,MAAK,SAACM,GACL,GAAIA,EAAKe,OAAS,EAChB,OAAOf,EAAK,GAEZ,MAAM,IAAIH,MAAM,uC,KCYjBH,MAAK,SAACsB,IACSA,EAAIC,QAAUD,EAAIC,OAAOF,OAAS,EAAIC,EAAIC,OAAO,GAAK,OAiC1E,SAAqBD,GACnB,IAAQE,EAAgBF,EAAhBE,IAAKD,EAAWD,EAAXC,OACPf,EAAQe,GAAUA,EAAOF,OAAS,EAAIE,EAAO,GAAK,KAExD,GAAIf,EAAO,CACT,IAAMiB,EAAU,qBAGN1B,OAFIyB,EAAI,iCAGTzB,OADCS,EAAMM,KAAK,sBAEkBf,OAD9BS,EAAMkB,YAAY,mDAC8B3B,OAAlBS,EAAMmB,YAAY,4BAIzDpC,EAAQ6B,UAAYK,EAAQG,OAE5BjC,G,EA9CIkC,CAAYP,E,IAGfN,OAAM,SAACC,GACNrB,G","sources":["src/js/cat-api.js","src/index.js"],"sourcesContent":["const KEY_API = 'live_86HL4oIiQSTA4JKLUtaQjIYmxwhOnl47Oad7zyutjVlJNETQ0C5ToAspo0rCRtei';\nconst BASE_URL = 'https://api.thecatapi.com/v1/';\n\nexport function fetchBreeds() {\n  return fetch(`${BASE_URL}breeds?api_key=${KEY_API}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n};\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(`${BASE_URL}images/search?breed_ids=${breedId}&api_key=${KEY_API}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n  .then((data) => {\n    if (data.length > 0) {\n      return data[0];\n    } else {\n      throw new Error(\"No cat found for the selected breed.\");\n    }\n  });\n}","import { fetchBreeds, fetchCatByBreed } from './js/cat-api';\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  \n\nconst breedSelectEl = document.querySelector(\".breed-select\");\nconst loaderEl = document.querySelector(\".loader\");\nconst errorEl = document.querySelector(\".error\");\nconst catInfo = document.querySelector(\".cat-info\");\n\n\nshowLoader();\n\n\nfetchBreeds()\n  .then((data) => {\n    data.forEach((breed) => {\n      const option = document.createElement(\"option\");\n      option.value = breed.id;\n      option.textContent = breed.name;\n      breedSelectEl.appendChild(option);\n    });\n\n    hideLoader();\n   \n  })\n  .catch((error) => {\n    showError();\n  });\n\nbreedSelectEl.addEventListener(\"change\", () => {\n  const selectedBreedId = breedSelectEl.value;\n  clearCatInfo();\n\n  showLoader();\n  \n\n  fetchCatByBreed(selectedBreedId)\n    .then((cat) => {\n      const breed = cat.breeds && cat.breeds.length > 0 ? cat.breeds[0] : null;\n\n      if (breed) {\n        showCatInfo(cat);\n      }\n    })\n    .catch((error) => {\n      showError();\n    });\n});\n  function showLoader() {\n  loaderEl.style.display = \"block\";\n  errorEl.style.display = \"none\";\n  catInfo.style.display = \"block\";\n}\n\nfunction hideLoader() {\n  loaderEl.style.display = \"none\";\n}\n\nfunction showError() {\n  loaderEl.style.display = \"none\";\n  errorEl.style.display = \"block\";\n  errorEl.style.color = \"red\";\n}\n\nfunction clearCatInfo() {\n  catInfo.innerHTML = \"\";\n  errorEl.style.display = \"none\";\n  showLoader();\n  catInfo.style.display = \"none\";\n}\n\nfunction showCatInfo(cat) {\n  const { url, breeds } = cat;\n  const breed = breeds && breeds.length > 0 ? breeds[0] : null;\n\n  if (breed) {\n    const catHtml = `\n      <img src=\"${url}\">\n      <div>\n        <h3>${breed.name}</h3>\n        <p>${breed.description}</p>\n        <p><strong>Temperament: </strong>${breed.temperament}</p>\n      </div>\n    `;\n\n    catInfo.innerHTML = catHtml.trim();\n\n    hideLoader();\n  }\n}\n});\n\n\n"],"names":["$8994e83c1b13b9e2$var$KEY_API","$8994e83c1b13b9e2$var$BASE_URL","document","addEventListener","breedSelectEl","querySelector","loaderEl","errorEl","catInfo","showLoader","style","display","hideLoader","showError","color","fetch","concat","then","response","ok","Error","status","json","data","forEach","breed","option","createElement","value","id","textContent","name","appendChild","catch","error","breedId","selectedBreedId","innerHTML","length","cat","breeds","url","catHtml","description","temperament","trim","showCatInfo"],"version":3,"file":"index.7a419212.js.map"}